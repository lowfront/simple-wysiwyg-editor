const Y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const S of f.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&a(S)}).observe(document,{childList:!0,subtree:!0});function u(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerpolicy&&(f.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?f.credentials="include":o.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=u(o);fetch(o.href,f)}};Y();const R=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/;function k(t,r){return(t==null?void 0:t.nodeType)===1&&t.tagName===r.toUpperCase()}function y(t){return(t==null?void 0:t.nodeType)===3}function U(t){return[...t.childNodes]}function J(t){const r=[...t.childNodes];return r[r.length-1]}function _(t,r,u){if(!r)throw"Invalid node";let a=r;for(;a;)if(a.previousSibling){const o=a.previousSibling;if(u(o))return o;{let f=o.lastChild;if(f)for(;f;){if(u(f))return f;if(f.lastChild)f=f.lastChild;else{a=f;break}}else{a=o;continue}}}else{if(a.parentNode===t)return null;let o=a.parentNode;for(;!o.previousSibling&&t!==o.parentNode;)o=o.parentNode;a=o}return null}function ee(t,r,u){if(!r)throw"Invalid node";let a=r;for(;a;)if(a.nextSibling){const o=a.nextSibling;if(u(o))return o;{let f=o.firstChild;if(f)for(;f;){if(u(f))return f;if(f.firstChild)f=f.firstChild;else{a=f;break}}else{a=o;continue}}}else{if(a.parentNode===t)return null;let o=a.parentNode;for(;!o.nextSibling&&t!==o.parentNode;)o=o.parentNode;a=o}return null}function te(t,r){if(!r)throw"Invalid node";let u=r;for(;u;)if(u.previousSibling){const a=u.previousSibling;if(y(a))return a;{let o=a.lastChild;if(o)for(;o;){if(y(o))return o;if(o.lastChild)o=o.lastChild;else{u=o;break}}else{u=a;continue}}}else{if(u.parentNode===t)return null;let a=u.parentNode;for(;!a.previousSibling&&t!==a.parentNode;)a=a.parentNode;u=a}return null}function ne(t,r,u=r.parentNode){r.nextSibling?u.insertBefore(t,r.nextSibling):u.appendChild(t)}function ie(t,r,u){var a;for(;r&&r!==t;){if(((a=r.parentNode)==null?void 0:a.tagName)===u.toUpperCase())return!0;r=r.parentNode}return!1}function X(t,r,u){var a;for(;r&&r!==t;){if(((a=r.parentNode)==null?void 0:a.tagName)===u.toUpperCase())return r.parentNode;r=r.parentNode}return null}function z(t,r){for(;r&&r!==t&&!r.firstChild;)r.parentNode.removeChild(r),r=r.parentNode}function Q(t){var r;if(R.test((r=t.textContent)!=null?r:""))t.href=t.textContent;else{const u=t.parentNode;[...t.childNodes].forEach(a=>u.insertBefore(a,t)),u.removeChild(t)}}var V;(t=>{function r(e,l,s){if(e===l&&U(e).length-1===s)return!0;let i=l,n=y(i)?i.textContent.length===s:!0;for(;n&&e!==i;)n&&(n=J(i.parentNode)===i),i=i.parentNode;return n}t.isLast=r;function u(e,l,s){let i=l,n=y(i)?i.textContent.length===s:!0;for(;n&&e!==i;)n&&(n=J(i.parentNode)===i),i=i.parentNode;return n}t.isLastOfParagraph=u;function a(e,l){let s=l;for(;!k(s,"p");)s=s.parentNode;return s}t.getCurrentParagraph=a;function o(e,l){if(l.data[0]===" ")return[];const s=[l],i=[];let n;for(;n=s.shift();)if(y(n)){if(l!==n&&(i.unshift(n),/\s/.test(n.data)))break;if(n.previousSibling)s.push(n.previousSibling);else{let h=n.parentNode;for(;!h.previousSibling&&e!==h;)h=h.parentNode;h.previousSibling&&s.push(h.previousSibling)}}else n.lastChild&&s.push(n.lastChild);return i}function f(e,l){if(l.data[l.data.length-1]===" ")return[];const s=[l],i=[];let n;for(;n=s.shift();)if(y(n)){if(l!==n&&(i.unshift(n),/\s/.test(n.data)))break;if(n.nextSibling)s.push(n.nextSibling);else{let h=n.parentNode;for(;!h.nextSibling&&e!==h;)h=h.parentNode;h.nextSibling&&s.push(h.nextSibling)}}else n.firstChild&&s.push(n.firstChild);return i}function S(e,l){return _(e,l,s=>k(s,"a"))}function m(e,l){return ee(e,l,s=>k(s,"a"))}function x(e,l){const s=S(e,l)?[]:o(e,l),i=m(e,l)?[]:f(e,l);return[...s,l,...i]}t.getConnectedTextNodesExceptLink=x;function C(e,l){const s=l,i=[e];let n;for(;n=i.shift();)if(y(n))if(n.data.length<l)l-=n.data.length;else break;else i.unshift(...n.childNodes);if(!n)throw new Error(`Invalid offset: ${s}`);return{node:n,offset:l}}t.getDeepOffsetText=C})(V||(V={}));var M=V,Z;(t=>{function r(){return window.getSelection()}t.getSelection=r;function u(m,x){const C=r(),e=document.createRange();e.setStart(m,x),e.collapse(!0),C.removeAllRanges(),C.addRange(e)}t.focus=u;function a(m,x){const{node:C,offset:e}=M.getDeepOffsetText(m,x);t.focus(C,e)}t.deepFocus=a;function o(m,x,C){const e=document.createElement("p");x?y(x)?e.appendChild(x):e.appendChild(document.createTextNode(x)):e.appendChild(document.createElement("br"));const s=U(m)[C!=null?C:-1];return s?m.insertBefore(e,s):m.append(e),e}t.appendParagraph=o;function f(m){var x;return!((x=m.firstChild)!=null&&x.nextSibling)&&!m.firstChild.textContent}t.hasOneEmptyParagraph=f;function S(m,x){return U(m).indexOf(x)}t.indexOf=S})(Z||(Z={}));var L=Z,G;(t=>{function r(i){u(i)}t.initWrap=r;function u(i){U(i).length===0&&L.appendParagraph(i)}t.lastWrap=u;function a(i,n){const h=L.getSelection(),{anchorNode:c,anchorOffset:w}=h,d=M.getCurrentParagraph(i,c),g=_(d,c,p=>k(p,"a"));if(y(c)&&!/^\s$/.test(c.data)&&c.data.length===1&&g&&R.test(g.textContent+c.data)){const p=c.splitText(0),N=te(d,c);N.data+=p.data,g.href=N.data,p.remove();return}if(y(c)&&!ie(d,c,"a")){const p=M.getConnectedTextNodesExceptLink(d,c),N=p.reduce((T,{data:O})=>T+O,""),v=N.match(R);if(!v)return;const{0:b,index:A}=v,D=N.indexOf(c.data)-A+w;let F=A,W,K,E,B;for(const T of p){const O=T.data.length;if(!W&&O-F>0&&(W=T,K=F),O-(F+b.length)>=0){E=T,B=F+b.length;break}F-=O}console.log("textNodes",p),console.log("linkStart",W.data,K),console.log("linkEnd",E.data,B);const $=s(d,W,K);console.log("startSplitedNodeArray",$),W===E&&(console.log("same link node"),E=$[0],B=b.length),console.log("linkEnd2",E,E.data,B);const q=s(d,E,B);console.log("endSplitedNodeArray",q);const H=$.filter(T=>!q.includes(T));if(console.log("[linkChildNodes]",H),!H.length)return;const I=document.createElement("a");I.href=H.reduce((T,{textContent:O})=>T+O,""),d.insertBefore(I,H[0]),H.forEach(T=>I.appendChild(T)),console.log("[anchorNode]",c),L.deepFocus(I,D)}}t.linkTransform=a;function o(i,n){n.preventDefault();const h=L.getSelection(),{anchorNode:c,anchorOffset:w}=h,d=_(i,c,p=>k(p,"a"));d&&Q(d);const g=X(i,c,"a");g&&Q(g)}t.enterTransform=o;function f(i,n){const h=L.getSelection(),{anchorNode:c,anchorOffset:w}=h;let d=null,g="";if(y(c)&&k(c.parentNode,"a")?(d=c.parentNode,g=c.nodeValue):n.inputType==="deleteContentBackward"||n.inputType==="deleteWordBackward"?(console.log("down backspace"),y(c)&&k(c.previousSibling,"a")&&w===0&&console.log("previous HTMLAnchorElement")):(n.inputType==="deleteContentForward"||n.inputType==="deleteWordForward")&&y(c)&&k(c.nextSibling,"a")&&w===c.nodeValue.length&&(d=c.nextSibling,g=c.nextSibling.textContent),!!d)if(R.test(g))d.href=g;else{const p=[...d.childNodes];p.forEach(N=>d.removeChild(N)),p.reverse().forEach(N=>d.parentNode.insertBefore(N,d)),d.parentNode.removeChild(d),L.focus(c,w)}}t.deleteTransform=f;const S="<!--StartFragment-->",m="<!--EndFragment-->",x=["DIV","P","SECTION","MAIN","ARTICLE","BR"];function C(i,n={}){var c,w,d,g,p,N;const h=x.includes(i.tagName);return{type:i.nodeType===1?"group":"text",node:i,i:(c=n.i)!=null?c:!1,u:(w=n.u)!=null?w:!1,b:(d=n.b)!=null?d:!1,block:h,color:(N=(g=i.style)==null?void 0:g.color)!=null?N:(p=n.color)!=null?p:""}}function e(i,n){var v;n.preventDefault();const h=n.clipboardData.getData("text/html"),c=h.indexOf(S)+S.length,w=h.indexOf(m),d=document.createElement("div");d.innerHTML=h.slice(c,w);const g=[...d.childNodes].map(b=>C(b)),p=[[]];let N;for(console.log(d.innerHTML);N=g.shift();){const{node:b}=N;if(y(b))p[p.length-1].push(Object.assign(N,{style:""}));else if(x.includes((v=b.tagName)!=null?v:"")&&![...b.childNodes].length)p.push([]);else{N.block&&p[p.length-1].length&&p.push([]);const A=[...b.childNodes].map(D=>C(D,N));g.unshift(...A)}}console.log(p)}t.pasteTransform=e;function l(i){const n=L.getSelection(),{anchorNode:h,anchorOffset:c}=n;M.getCurrentParagraph(i,h).childNodes.forEach(d=>{d.nodeType===1?z(i,d):y(d)&&(d.data.length||d.remove())})}t.cleanEmpty=l;function s(i,n,h){const{node:c,offset:w}=M.getDeepOffsetText(n,h),d=c.splitText(w);let g=d,p=null;for(;g.parentNode!==i;){if(p){const D=g.parentNode.cloneNode(!1);D.appendChild(p),p=D}else p=g.parentNode.cloneNode(!1);let b=g.nextSibling;const A=g.parentNode;for(g===d&&p.appendChild(g),g=A;b;)p.appendChild(b),b=b.nextSibling}p&&ne(p,g);const N=[];let v=p!=null?p:d;for(;v;)N.push(v),v=v.nextSibling;if(!c.length){const b=c.parentNode;c.remove(),z(i,b)}if(!d.length){const b=c.parentNode;d.remove(),z(i,b)}return N}t.deepSplitText=s})(G||(G={}));var P=G;var j;(t=>{function r(e,l){l.inputType==="insertParagraph"?(P.cleanEmpty(e),P.enterTransform(e,l)):l.inputType==="deleteContentBackward"||l.inputType==="deleteContentForward"||l.inputType==="deleteWordForward"||l.inputType==="deleteWordBackward"?P.deleteTransform(e,l):P.linkTransform(e,l),P.lastWrap(e)}function u(e,l){}function a(e,l){const s=l.target,i=k(s,"a")?s:X(e,s,"a");i&&window.open(i.href,"_blank")}function o(e,l){P.pasteTransform(e,l)}function f(e){return r.bind(null,e)}function S(e){return u.bind(null,e)}function m(e){return o.bind(null,e)}function x(e){return a.bind(null,e)}function C(e){e.className="wysiwyg-editor",e.contentEditable="true",e.addEventListener("click",x(e)),P.initWrap(e);const l=f(e),s=S(e),i=m(e);let n=!1;return e.addEventListener("input",h=>{n||l(h)}),e.addEventListener("keyup",s),e.addEventListener("paste",h=>{n=!0,i(h),n=!1}),function(){e.removeEventListener("input",l),e.removeEventListener("keyup",s),e.removeEventListener("paste",i)}}t.create=C})(j||(j={}));var re=j;re.create(document.getElementById("root"));
